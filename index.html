<!DOCTYPE html>
<html>
<head>
  <style>
    body {
      padding: 0;
      margin: 0;
    }
    * {
      box-sizing: border-box;
    }
    #terminal {
      height: 30%;
    }
    .options {
      padding: 0.75em;
    }
    .info {
      float: right;
    }
    #connect {
      margin-right: 2em;
    }
    label.checkbox {
      margin-right: 1em;
    }
  </style>
</head>
<body>

<script>
  var Module = {
    onRuntimeInitialized: function () {
      console.log('dls config result: ' + Module.config(10, 20, 30));
    }
  };
</script>
<script src="release/scslib.js"></script>

<div id="app"></div>

<!-- 
<div>
  <canvas id="myChart"></canvas>
  
  <script src="https://cdn.staticfile.org/Chart.js/3.9.1/chart.js"></script>
  <script>
    const ctx = document.getElementById('myChart');
    const data = {
      labels: [
        '1709890173524',
        '1709890173534',
        '1709890173544',
        '1709890173554',
      ],
      datasets: [
        {
          type: 'line',
          label: 'ID0',
          data: [45, 49, 52, 48],
        }, 
        // {
        //   type: 'line',
        //   label: '折线图数据集',
        //   data: [50, 40, 45, 49],
        // }
      ]
    };
  
    const config = {
      type: 'scatter',
      data: data,
      options: {
        responsive: true, // 设置图表为响应式，根据屏幕窗口变化而变化
        maintainAspectRatio: false,// 保持图表原有比例
        scales: {
          y: {
            beginAtZero: true
          }
        }
      }
    };
    const myChart = new Chart(ctx, config);
  
    // 初始化 ping 所有设备，并产生对应的曲线
  
    setInterval(() => {
      // console.log('myChart.data.datasets', myChart.data.datasets);
      for (let i = 0; i < 3; i++) {
        if (myChart.data.datasets[i]) {
          myChart.data.labels.push(new Date().getTime());
          myChart.data.datasets[i].data.push(Math.floor(Math.random() * 4095));
          myChart.update();
          if (myChart.data.labels.length > 100) {
            myChart.data.labels.shift();
            myChart.data.datasets[i].data.shift();
          }
        } else {
          myChart.data.datasets.push({
            type: 'line',
            label: 'ID' + i,
            data: [Math.floor(Math.random() * 4095)],
          });
        }
      }
    }, 1000);
    
  </script>
    
</div>
 -->

<div class="options">

<!-- 
  <button id="download">Download output</button>
  <button id="clear">Clear output</button>

  <div class="info">
    <a id="polyfill_switcher"></a>
  </div>

  <br> -->

  <label for="baudrate">Baud rate:</label>
  <select id="baudrate">
    <option value="9600">9600</option>
    <option value="14400">14400</option>
    <option value="19200">19220</option>
    <option value="28800">28800</option>
    <option value="38400">38400</option>
    <option value="57600">57600</option>
    <option value="115200">115200</option>
    <option value="230400">230400</option>
    <option value="460800">460800</option>
    <option value="500000" selected>500000</option>
    <option value="921600">921600</option>
    <option value="custom">Custom</option>
  </select>
  <input id="custom_baudrate" type="number" min="1" placeholder="Enter baudrate..." hidden>
  <label for="databits">Data bits:</label>
  <select id="databits">
    <option value="7">7</option>
    <option value="8" selected>8</option>
  </select>
  <label for="parity">Parity:</label>
  <select id="parity">
    <option value="none" selected>None</option>
    <option value="even">Even</option>
    <option value="odd">Odd</option>
  </select>
  <label for="stopbits">Stop bits:</label>
  <select id="stopbits">
    <option value="1" selected>1</option>
    <option value="2">2</option>
  </select>
  <input id="rtscts" type="checkbox">
  <label for="rtscts">Hardware flow control</label>

  <br>

  <button id="search">Search</button>
  
  <label for="ports">Port:</label>
  <select id="ports">
    <option value="prompt">Click 'Connect' to add a port...</option>
  </select>
  <button id="connect">Connect</button>

  <button id="debug1">debug1</button>
  
  <button id="debug2">debug2</button>
  
  <br>

<!-- 

  <input id="echo" type="checkbox">
  <label class="checkbox" for="echo">Local echo</label>
  <input id="enter_flush" type="checkbox">
  <label class="checkbox" for="enter_flush">Flush on enter</label>
  <input id="convert_eol" type="checkbox">
  <label class="checkbox" for="convert_eol">Convert EOL</label>
  <input id="autoconnect" type="checkbox">
  <label class="checkbox" for="autoconnect">Automatically connect</label>
 -->

</div>

<div id="terminal" hidden></div>

<script type="module" src="/src/index.ts"></script>

</body>
</html>
